<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analysis Results - SVAMITVA AI</title>
    <link rel="stylesheet" href="result.css">
</head>
<body>
    <!-- Header Section -->
    <header class="header">
        <h1 class="main-title">AI Analysis Results - SVAMITVA Feature Extraction</h1>
    </header>

    <!-- Main Results Content -->
    <main class="results-container">
        <!-- Analysis Summary -->
        <section class="analysis-summary">
            <div class="summary-card">
                <h2 class="summary-title">Analysis Complete ‚úÖ</h2>
                <p class="summary-text">
                    Successfully processed drone orthophoto and detected land features using advanced AI algorithms. 
                    Below are the identified features with confidence scores for SVAMITVA property mapping.
                </p>
            </div>
        </section>

        <!-- Image Results Section -->
        <section class="image-results">
            <div class="results-card">
                <h3 class="results-title">Processed Drone Image with AI Overlays</h3>
                
                <!-- Main Result Image Container -->
                <div class="image-container">
                    <!-- Placeholder for drone image with overlays -->
                    <div class="drone-image-placeholder">
                        <img id="uploaded-drone-image" 
                             src="https://via.placeholder.com/800x600/4a90e2/ffffff?text=Drone+Orthophoto+with+AI+Detection" 
                             alt="Drone image with AI feature overlays" 
                             class="result-image">
                        
                        <!-- Fake AI Detection Overlays -->
                        <div class="detection-overlay building-overlay" style="top: 80%; left: 5%; width: 15%; height: 12%;">
                            <span class="overlay-label">Building</span>
                            <span class="confidence-score">96.3%</span>
                        </div>
                        
                        <div class="detection-overlay building-overlay" style="top: 74%; left: 60%; width: 18%; height: 15%;">
                            <span class="overlay-label">Residential</span>
                            <span class="confidence-score">94.7%</span>
                        </div>
                        
                        <div class="detection-overlay road-overlay" style="top: 10%; left: 2%; width: 50%; height: 8%;">
                            <span class="overlay-label">Main Road</span>
                            <span class="confidence-score">98.1%</span>
                        </div>
                        
                        <div class="detection-overlay water-overlay" style="top: 27%; left:40%; width: 20%; height: 25%;">
                            <span class="overlay-label">Water Body</span>
                            <span class="confidence-score">91.8%</span>
                        </div>
                        
                        <div class="detection-overlay road-overlay" style="top:65%; left: 25%; width: 6%; height: 20%;">
                            <span class="overlay-label">Street</span>
                            <span class="confidence-score">89.2%</span>
                        </div>
                    </div>
                </div>

                <!-- Legend -->
                <div class="detection-legend">
                    <h4 class="legend-title">Detection Legend:</h4>
                    <div class="legend-items">
                        <div class="legend-item">
                            <div class="legend-color building-color"></div>
                            <span class="legend-text">Buildings & Structures</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color road-color"></div>
                            <span class="legend-text">Roads & Pathways</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color water-color"></div>
                            <span class="legend-text">Water Bodies</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Detection Statistics -->
        <section class="detection-stats">
            <div class="stats-card">
                <h3 class="stats-title">Feature Detection Summary</h3>
                
                <div class="stats-grid">
                    <div class="stat-item buildings-stat">
                        <div class="stat-icon">üè¢</div>
                        <div class="stat-content">
                            <h4 class="stat-number">23</h4>
                            <p class="stat-label">Buildings Detected</p>
                            <p class="stat-detail">Avg. Confidence: 94.2%</p>
                        </div>
                    </div>
                    
                    <div class="stat-item roads-stat">
                        <div class="stat-icon">üõ£Ô∏è</div>
                        <div class="stat-content">
                            <h4 class="stat-number">1,247m</h4>
                            <p class="stat-label">Road Length</p>
                            <p class="stat-detail">Avg. Confidence: 91.5%</p>
                        </div>
                    </div>
                    
                    <div class="stat-item water-stat">
                        <div class="stat-icon">üíß</div>
                        <div class="stat-content">
                            <h4 class="stat-number">3</h4>
                            <p class="stat-label">Water Bodies</p>
                            <p class="stat-detail">Avg. Confidence: 88.9%</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Detailed Results Table -->
        <section class="detailed-results">
            <div class="table-card">
                <h3 class="table-title">Detailed Detection Results</h3>
                
                <div class="results-table-container">
                    <table class="results-table">
                        <thead>
                            <tr>
                                <th>Feature Type</th>
                                <th>Location</th>
                                <th>Area/Length</th>
                                <th>Confidence</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="feature-tag building-tag">Building</span></td>
                                <td>Sector A1</td>
                                <td>245.6 m¬≤</td>
                                <td class="confidence high">96.3%</td>
                                <td class="status verified">‚úì Verified</td>
                            </tr>
                            <tr>
                                <td><span class="feature-tag building-tag">Residential</span></td>
                                <td>Sector B2</td>
                                <td>312.8 m¬≤</td>
                                <td class="confidence high">94.7%</td>
                                <td class="status verified">‚úì Verified</td>
                            </tr>
                            <tr>
                                <td><span class="feature-tag road-tag">Main Road</span></td>
                                <td>North-South</td>
                                <td>847.2 m</td>
                                <td class="confidence high">98.1%</td>
                                <td class="status verified">‚úì Verified</td>
                            </tr>
                            <tr>
                                <td><span class="feature-tag water-tag">Pond</span></td>
                                <td>Sector C1</td>
                                <td>1,156.4 m¬≤</td>
                                <td class="confidence high">91.8%</td>
                                <td class="status verified">‚úì Verified</td>
                            </tr>
                            <tr>
                                <td><span class="feature-tag road-tag">Street</span></td>
                                <td>East-West</td>
                                <td>234.1 m</td>
                                <td class="confidence medium">89.2%</td>
                                <td class="status pending">‚è≥ Review</td>
                            </tr>
                            <tr>
                                <td><span class="feature-tag building-tag">Structure</span></td>
                                <td>Sector D1</td>
                                <td>89.3 m¬≤</td>
                                <td class="confidence medium">87.4%</td>
                                <td class="status pending">‚è≥ Review</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Action Buttons -->
        <section class="action-section">
            <div class="action-buttons">
                <button class="btn btn-download" onclick="downloadResults()">
                    <span class="btn-icon">üì•</span>
                    Download Report
                </button>
                
                <button class="btn btn-export" onclick="exportToSVAMITVA()">
                    <span class="btn-icon">üìã</span>
                    Export to SVAMITVA
                </button>
                
                <a href="home.html" class="btn btn-new-analysis">
                    <span class="btn-icon">üîÑ</span>
                    New Analysis
                </a>
                
                <button class="btn btn-share" onclick="shareResults()">
                    <span class="btn-icon">üì§</span>
                    Share Results
                </button>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <p class="footer-text">Powered by AI | SVAMITVA Digital India Initiative</p>
            <p class="footer-subtext">Analysis completed on <span id="analysis-date"></span></p>
        </div>
    </footer>

    <!-- JavaScript for interactive functionality -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Load uploaded image from localStorage
            const uploadedImage = localStorage.getItem('uploadedImage');
            const uploadedImageName = localStorage.getItem('uploadedImageName');
            const droneImageElement = document.getElementById('uploaded-drone-image');
            
            if (uploadedImage) {
                droneImageElement.src = uploadedImage;
                droneImageElement.alt = `Uploaded drone image: ${uploadedImageName || 'drone-image'}`;
            }
            
            // Set analysis date
            const now = new Date();
            const dateString = now.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            document.getElementById('analysis-date').textContent = dateString;

            // Add hover effects to detection overlays
            const overlays = document.querySelectorAll('.detection-overlay');
            overlays.forEach(overlay => {
                overlay.addEventListener('mouseenter', function() {
                    this.style.opacity = '0.9';
                    this.style.transform = 'scale(1.05)';
                });
                
                overlay.addEventListener('mouseleave', function() {
                    this.style.opacity = '0.8';
                    this.style.transform = 'scale(1)';
                });
            });

            // Add click functionality to table rows
            const tableRows = document.querySelectorAll('.results-table tbody tr');
            tableRows.forEach(row => {
                row.addEventListener('click', function() {
                    // Remove previous selection
                    tableRows.forEach(r => r.classList.remove('selected'));
                    // Add selection to clicked row
                    this.classList.add('selected');
                });
            });
        });

        // Mock functions for button interactions
        function downloadResults() {
            alert('Report download feature would be implemented here.\nThis would generate a PDF/Excel report with all detection results.');
        }

        function exportToSVAMITVA() {
            alert('SVAMITVA export feature would be implemented here.\nThis would format data for government land records system.');
        }

        function shareResults() {
            alert('Share functionality would be implemented here.\nThis would generate shareable links or send reports via email.');
        }

        // Add some interactive animations
        function animateStats() {
            const statNumbers = document.querySelectorAll('.stat-number');
            statNumbers.forEach(stat => {
                const finalValue = stat.textContent;
                stat.textContent = '0';
                
                // Simple counter animation
                let current = 0;
                const target = parseInt(finalValue) || 0;
                const increment = Math.ceil(target / 20);
                
                const counter = setInterval(() => {
                    current += increment;
                    if (current >= target) {
                        stat.textContent = finalValue;
                        clearInterval(counter);
                    } else {
                        stat.textContent = current;
                    }
                }, 50);
            });
        }

        // Start animations when page loads
        setTimeout(animateStats, 500);
    </script>
</body>
</html>

